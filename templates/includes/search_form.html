{% load mezzanine_tags i18n %}
 <div class="search-box">
<form action="{% url "search" %}"  role="search">
    <input autocomplete="off" placeholder="{% trans "Search" %}" type="search" name="q" value="{{ request.GET.q }}" />
    <button  type="submit"> {% trans "Search" %}  </button>

    {% if search_model_choices %}
        {% if search_model_choices|length == 1 %}
            <input type="hidden" name="type" value="{{ search_model_choices.0.1 }}">
        {% else %}
            <div class="form-group">
                <select class="form-control" name="type">
                    <option value="">{% trans "Everything" %}</option>
                    {% for verbose_name, model in search_model_choices %}
                        <option value="{{ model }}"
                            {% if model == request.GET.type  %}selected{% endif %}>
                            {{ verbose_name }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        {% endif %}
    {% endif %}

</form>
 </div>